<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>åšå®¢å¼€å¼ ï¼šè®°å½•æœ¬å¤§å­¦ç”Ÿåç«¯å¼€å‘çš„æ€è€ƒä¸æˆé•¿</title>
    <url>/2024/11/03/2024-11-03-my-first-blog-post/</url>
    <content><![CDATA[<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>ä»Šå¤©æ˜¯æˆ‘å¼€å§‹å†™åšå®¢çš„ç¬¬ä¸€å¤©ï¼ˆç»ˆäºä¸‹å®šå†³å¿ƒäº†ï¼ï¼‰ã€‚ä½œä¸ºä¸€ååç«¯å¼€å‘å­¦ä¹ è€…ï¼Œæˆ‘å†³å®šç”¨è¿™ä¸ªåšå®¢è®°å½•æˆ‘åœ¨å¼€å‘è¿‡ç¨‹ä¸­çš„æ€è€ƒã€è¸©è¿‡çš„å‘ä»¥åŠæ”¶è·ã€‚è™½ç„¶ä¸çŸ¥é“èƒ½åšæŒå¤šä¹…ï¼Œä½†è‡³å°‘å…ˆå¼€å§‹å§ ğŸ˜…</p>
<h2 id="ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ</h2><ol>
<li><strong>çŸ¥è¯†æ²‰æ·€</strong>ï¼šæŠŠé›¶æ•£çš„çŸ¥è¯†ç‚¹æ•´ç†æˆä½“ç³»åŒ–çš„æ–‡ç« </li>
<li><strong>é—®é¢˜å¤ç›˜</strong>ï¼šè®°å½•debugè¿‡ç¨‹ï¼Œä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜èƒ½å¿«é€Ÿå®šä½</li>
<li><strong>æŠ€æœ¯æˆé•¿</strong>ï¼šé€šè¿‡å†™ä½œåŠ æ·±å¯¹æŠ€æœ¯çš„ç†è§£</li>
<li><strong>åˆ†äº«äº¤æµ</strong>ï¼šå¸Œæœ›èƒ½å¸®åŠ©åˆ°é‡åˆ°åŒæ ·é—®é¢˜çš„å¼€å‘è€…</li>
</ol>
<h2 id="åšå®¢å†…å®¹è§„åˆ’"><a href="#åšå®¢å†…å®¹è§„åˆ’" class="headerlink" title="åšå®¢å†…å®¹è§„åˆ’"></a>åšå®¢å†…å®¹è§„åˆ’</h2><p>è¿™ä¸ªåšå®¢ä¸»è¦ä¼šè®°å½•ï¼š</p>
<ul>
<li><strong>åç«¯å¼€å‘æ€è€ƒ</strong>ï¼šæ¶æ„è®¾è®¡ã€æ€§èƒ½ä¼˜åŒ–ã€ä»£ç è´¨é‡ç­‰</li>
<li><strong>Debugç»éªŒ</strong>ï¼šå®é™…é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</li>
<li><strong>æŠ€æœ¯å­¦ä¹ </strong>ï¼šå­¦ä¹ æ–°æŠ€æœ¯çš„å¿ƒå¾—å’Œæ€»ç»“</li>
<li><strong>è¸©å‘è®°å½•</strong>ï¼šé‚£äº›è®©äººå¤´ç–¼çš„bugå’Œè§£å†³æ–¹æ¡ˆ</li>
</ul>
<h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><p>å¸Œæœ›è¿™ä¸ªåšå®¢èƒ½è§è¯æˆ‘çš„æŠ€æœ¯æˆé•¿ï¼Œä¹Ÿå¸Œæœ›èƒ½ä¸ºå…¶ä»–å¼€å‘è€…æä¾›ä¸€äº›å‚è€ƒï¼ˆè™½ç„¶ç°åœ¨è¿˜æ˜¯ä¸ªèœé¸Ÿå“ˆå“ˆå“ˆï¼‰ã€‚</p>
<p>è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚</p>
<p>PS: å¦‚æœæ–‡ç« æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡æ­£ï¼æ¯•ç«Ÿè¿˜åœ¨å­¦ä¹ ä¸­ï¼Œéš¾å…ä¼šæœ‰ç†è§£ä¸åˆ°ä½çš„åœ°æ–¹ ğŸ˜Š</p>
]]></content>
      <categories>
        <category>éšä¾¿è¯´è¯´</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
        <tag>åç«¯å¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨æˆ·ä¸­å¿ƒé¡¹ç›®è¸©å‘è®°ï¼šå¯†ç åŠ å¯†é‚£äº›äº‹å„¿</title>
    <url>/2024/11/15/2024-11-15-password-security/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™æ˜¯æˆ‘åšçš„ç¬¬ä¸€ä¸ªé¡¹ç›®ã€‚å‰å‡ å¤©æˆ‘å¯¹å®‰å…¨çš„ç†è§£åªåœç•™åœ¨â€œåˆ«å†™å‡º bug å°±è¡Œâ€ã€‚ç›´åˆ°åœ¨æµ‹è¯•æ•°æ®åº“æ—¶ï¼Œäº²çœ¼çœ‹åˆ° <code>user_password</code> å­—æ®µé‡Œèººç€ä¸€ä¸²ä¸²æ˜æ–‡å¯†ç ï¼Œæ‰æƒ³èµ·ä¹‹å‰åˆ·åˆ°çš„è§†é¢‘é‡Œä¸€å¥è¯ï¼šâ€œæ˜æ–‡å¯†ç  &#x3D; çº¢çº¿â€ã€‚æœ¬æ–‡è®°å½•æˆ‘ä»æ˜æ–‡å­˜å‚¨åˆ°ä½¿ç”¨ BCrypt çš„å…¨è¿‡ç¨‹ï¼Œç•™ç»™ä¹Ÿåœ¨è‹¦è‹¦å†™é¡¹ç›®çš„åŒå­¦åšå‚è€ƒã€‚</p>
<h2 id="é—®é¢˜çˆ†å‘ï¼šæ•°æ®åº“é‡Œçš„â€œè£¸å¥”â€å¯†ç "><a href="#é—®é¢˜çˆ†å‘ï¼šæ•°æ®åº“é‡Œçš„â€œè£¸å¥”â€å¯†ç " class="headerlink" title="é—®é¢˜çˆ†å‘ï¼šæ•°æ®åº“é‡Œçš„â€œè£¸å¥”â€å¯†ç "></a>é—®é¢˜çˆ†å‘ï¼šæ•°æ®åº“é‡Œçš„â€œè£¸å¥”â€å¯†ç </h2><p>é¡¹ç›®åˆæœŸæˆ‘åªæƒ³å…ˆè·‘é€šæµç¨‹ï¼Œç›´æ¥æŠŠå‰ç«¯ä¼ æ¥çš„å¯†ç ä¸¢è¿›æ•°æ®åº“ã€‚æ§åˆ¶å±‚ä»£ç å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ç¤ºèŒƒï¼Œè¯·å‹¿æ¨¡ä»¿</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/register&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">register</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (user.getPassword().length() &lt; <span class="number">8</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;å¯†ç é•¿åº¦ä¸è¶³&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    userMapper.insert(user); <span class="comment">// ç›´æ¥å­˜æ˜æ–‡</span></span><br><span class="line">    <span class="keyword">return</span> Result.success();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ç”¨ Navicat æ‰“å¼€æ•°æ®è¡¨ï¼Œ<code>&quot;12345678&quot;</code>ã€<code>&quot;abcdefg&quot;</code> ç­‰å¼±å¯†ç å…¨åœ¨é‡Œé¢ã€‚æ­¤åˆ»æˆ‘æ‰æ„è¯†åˆ°ï¼šå¦‚æœæ•°æ®åº“è¢«æ‹–åº“ï¼Œæ‰€æœ‰ç”¨æˆ·è´¦å·éƒ½ä¼šæš´éœ²ã€‚</p>
<h2 id="è§£å†³è¿‡ç¨‹ï¼šBCrypt-çš„æ•‘èµ"><a href="#è§£å†³è¿‡ç¨‹ï¼šBCrypt-çš„æ•‘èµ" class="headerlink" title="è§£å†³è¿‡ç¨‹ï¼šBCrypt çš„æ•‘èµ"></a>è§£å†³è¿‡ç¨‹ï¼šBCrypt çš„æ•‘èµ</h2><h3 id="1-é€‰å‹"><a href="#1-é€‰å‹" class="headerlink" title="1. é€‰å‹"></a>1. é€‰å‹</h3><p>æŸ¥èµ„æ–™åé”å®šå‡ ä¸ªå¸¸è§æ–¹æ¡ˆï¼š</p>
<ul>
<li><code>MD5</code>ï¼šä¸å¯é€†ï¼Œä½†å½©è™¹è¡¨å’Œ GPU æš´åŠ›ç ´è§£å¤ªå¿«ï¼›</li>
<li><code>SHA</code>ï¼šåŒæ ·å±äºå¿«é€Ÿå“ˆå¸Œï¼Œå¯¹å¯†ç ä¿æŠ¤ä¸å¤Ÿï¼›</li>
<li><code>BCrypt</code>ï¼šè‡ªå¸¦ç›å€¼ï¼Œè®¡ç®—æ…¢ï¼Œå¯æ‹–æ…¢æš´åŠ›ç ´è§£ã€‚</li>
</ul>
<p>ç»“åˆ Spring ç”Ÿæ€ï¼Œæˆ‘ç›´æ¥ä½¿ç”¨ <code>BCryptPasswordEncoder</code>ï¼Œä¸å¿…è‡ªå·±ç»´æŠ¤ç›å€¼ï¼Œæ•´åˆä¹Ÿå¾ˆé¡ºã€‚</p>
<h3 id="2-ä»£ç æ”¹é€ "><a href="#2-ä»£ç æ”¹é€ " class="headerlink" title="2. ä»£ç æ”¹é€ "></a>2. ä»£ç æ”¹é€ </h3><p><strong>å¼•å…¥ä¾èµ–</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨å†ŒåŠ å¯† Bean</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> PasswordEncoder <span class="title function_">passwordEncoder</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">BCryptPasswordEncoder</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ”¹é€ æ³¨å†Œ &#x2F; ç™»å½•é€»è¾‘</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PasswordEncoder passwordEncoder;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">register</span><span class="params">(User user)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">encodedPassword</span> <span class="operator">=</span> passwordEncoder.encode(user.getPassword());</span><br><span class="line">        user.setPassword(encodedPassword);</span><br><span class="line">        userMapper.insert(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">login</span><span class="params">(String account, String password)</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userMapper.selectByAccount(account);</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">BusinessException</span>(<span class="string">&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!passwordEncoder.matches(password, user.getPassword())) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">BusinessException</span>(<span class="string">&quot;å¯†ç é”™è¯¯&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-æ–°å‘ï¼šå­—æ®µé•¿åº¦ä¸å¤Ÿ"><a href="#3-æ–°å‘ï¼šå­—æ®µé•¿åº¦ä¸å¤Ÿ" class="headerlink" title="3. æ–°å‘ï¼šå­—æ®µé•¿åº¦ä¸å¤Ÿ"></a>3. æ–°å‘ï¼šå­—æ®µé•¿åº¦ä¸å¤Ÿ</h3><p>BCrypt ç”Ÿæˆçš„å“ˆå¸Œå¤§çº¦ 60 ä¸ªå­—ç¬¦ï¼Œè€Œæˆ‘çš„ <code>user_password</code> æ˜¯ <code>varchar(50)</code>ã€‚æ’å…¥æ—¶æŠ¥é”™ï¼Œåªèƒ½èµ¶ç´§è¿è¡¨ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER TABLE</span> <span class="keyword">user</span></span><br><span class="line">MODIFY <span class="keyword">COLUMN</span> user_password <span class="type">VARCHAR</span>(<span class="number">60</span>) <span class="keyword">NOT NULL</span> COMMENT <span class="string">&#x27;å¯†ç å“ˆå¸Œ&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™æ¬¡è¸©å‘çš„æ”¶è·ï¼š</p>
<ul>
<li>æ˜æ–‡å¯†ç ç»å¯¹ä¸èƒ½å…¥åº“ï¼ŒBCrypt æ˜¯ä¸Šæ‰‹å‹å¥½çš„æ–¹æ¡ˆï¼›</li>
<li>å“ˆå¸Œå­—ç¬¦ä¸²ä¼šæ›´é•¿ï¼Œåº“è¡¨å­—æ®µè¦é¢„ç•™ç©ºé—´ï¼›</li>
<li>å–„ç”¨æ¡†æ¶æä¾›çš„å·¥å…·ï¼Œåˆ«é‡å¤é€ è½®å­ã€‚</li>
</ul>
<p>ä¸‹ä¸€ç¯‡æˆ‘åº”è¯¥è¿˜ä¼šè®°å½•åœ¨è¿™ä¸ªé¡¹ç›®é‡åˆ°çš„å…¶ä»–é—®é¢˜ï¼Œå¸Œæœ›è¿˜èƒ½åšæŒå†™ä¸‹å»ï¼Œæ¬¢è¿å‚¬æ›´ï¼</p>
]]></content>
      <categories>
        <category>Debug ç»éªŒ</category>
      </categories>
      <tags>
        <tag>åç«¯å¼€å‘</tag>
        <tag>å®‰å…¨</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2024/11/03/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
</search>
